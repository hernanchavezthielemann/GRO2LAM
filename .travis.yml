language: bash
before_install: sudo apt-get install python-tk

language: python
python: 
  - 2.7
  - 3.5
  - 3.9
install:
  - python --version
  - pip install coverage
  - python setup -t

services:
  - xvfb

before_script:
  - "export DISPLAY=:99.0"
  - sleep 3 # give xvfb some time to start

script:
  - python run
  - coverage run -m unittest discover

after_success:
  - bash <(curl -s https://codecov.io/bash)
